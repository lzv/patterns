Это второй вариант паттерна. Он представляет из себя иерархию объектов с интерфейсом glif, с разделяемыми листьями. 
В паттерне нет большого количества объектов shared_ptr, а это его цель - избавление от большого количества мелких объектов. Классы иерархии, кроме root, можно создавать и удалять только через фабрику или внутри себя, а класс root нельзя добавлять в иерархию. Это позволяет выстроить надежную работу с памятью, не опасаясь, что в результате ошибки программиста программа упадет. Фабрика объектов иерархии сделана по паттерну Одиночка, что при завершении программы позволяет корректно удалить объекты-приспособленцы. 
