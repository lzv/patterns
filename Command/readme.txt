Паттерн позволяет инкапсулировать запрос как объект. Это позволит отправлять запросы, ставить их в очередь, отменять операции, создавать историю команд, поддерживать транзакции. Так же можно создавать сложные команды, составленные из простых команд.
Если при выполнении команд сохранять их в файле, то после аварийного сбоя можно восстановить состояние, прочитав файл и выполнив команды заново. Кроме этого, команда при выполнении может делать запись в лог.
В демонстрационном коде показано некое приложение, которое работает с текстом и у которого есть меню и кнопки. Пункты меню и кнопки могут разделять один и тот же объект команды. Так же имеется история команд.
С помощью глобальных переменных эмулируется состояние - позиция курсора, текст в буфере обмена, начало и конец выделения текста. Сначала приложение делает несколько операций, затем все операции отменяются, а после этого повторяются заново. После каждого шага выводится текст, что бы смотреть, что получается.
При компиляции проверьте, что у вас поддерживается C++11, так как используются shared_ptr.
